#!/bin/bash
#
# Description: ENTRYPOINT for running Docker Images in Containers

# Use this file for customizing the default behavior when a container is created

set -e
export BUILD_TIME=$BUILD_TIME
export BUILD_TYPE=$BUILD_TYPE
export BUILD_VER=$BUILD_VER

echo "BUILD_TIME: $BUILD_TIME"
echo "BUILD_TYPE: $BUILD_TYPE"
echo "BUILD_VER: $BUILD_VER"

if [ "$BUILD_TYPE" == "development" ]; then    
    set -- npm run start "$@"
    exec "$@"
else    
    BUILD_TIME=`date +'%y.%m.%d %H:%M:%S'` LOCAL_PROD=true BUILD_VER=$BUILD_VER node /server.js --bind 0.0.0.0:$PORT
fi


